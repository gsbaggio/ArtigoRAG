class Solution:
    def minMalwareSpread(self, graph, initial):
        n = len(graph)
        best_node = None
        min_infected = float('inf')
        
        for x in initial:
            removed = [False] * n
            removed[x] = True
            visited = [False] * n
            count = 0
            queue = []
            index = 0
            
            for node in initial:
                if node == x:
                    continue
                if not visited[node] and not removed[node]:
                    visited[node] = True
                    count += 1
                    queue.append(node)
            
            while index < len(queue):
                u = queue[index]
                index += 1
                for v in range(n):
                    if not removed[v] and graph[u][v] == 1 and not visited[v]:
                        visited[v] = True
                        count += 1
                        queue.append(v)
            
            if count < min_infected:
                min_infected = count
                best_node = x
            elif count == min_infected and best_node is not None and x < best_node:
                best_node = x
            elif count == min_infected and best_node is None:
                best_node = x
                
        return best_node