from collections import defaultdict

def find_largest_k(n, cells):
    colors = defaultdict(list)

    for x, y, c in cells:
        colors[c].append((x, y))

    color_counts = {color: len(coords) for color, coords in colors.items()}
    
    common_cells = set(colors[1]) & set(colors[2]) & set(colors[3])
    
    min_common_cells = min(color_counts.values())
    min_common_cells = min(min_common_cells, len(common_cells))
    
    return n - min_common_cells
    
# Input parsing
n = int(input())
cells = [list(map(int, input().split())) for _ in range(n)]

# Calculate and output the largest k
print(find_largest_k(n, cells))