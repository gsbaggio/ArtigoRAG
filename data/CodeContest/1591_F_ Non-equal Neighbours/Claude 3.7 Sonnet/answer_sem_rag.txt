def solve():
    MOD = 998244353
    
    n = int(input())
    a = list(map(int, input().split()))
    
    # For each position, keep track of how many arrays end with each possible value
    dp = {}  # dp[v] = number of arrays ending with value v at the current position
    
    # Initialize for the first position
    for v in range(1, a[0] + 1):
        dp[v] = 1
    
    # Process each remaining position
    for i in range(1, n):
        total = sum(dp.values()) % MOD  # Total ways to fill positions up to i-1
        new_dp = {}
        
        for v in range(1, a[i] + 1):
            # We can use any value from previous position except v
            new_dp[v] = (total - dp.get(v, 0)) % MOD
        
        dp = new_dp
    
    return sum(dp.values()) % MOD

print(solve())