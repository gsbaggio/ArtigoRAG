def solve():
    n = int(input())
    a = list(map(int, input().split()))
    
    MOD = 998244353
    
    if n == 1:
        print(a[0] % MOD)
        return
    
    dp0 = 1
    dp1 = a[0] - 1
    
    for i in range(1, n):
        new_dp0 = (dp1 * 1) % MOD
        new_dp1 = (dp0 * (a[i] - 1)) % MOD
        new_dp1 = (new_dp1 + (dp1 * (a[i] - 1)) % MOD) % MOD
        
        dp0 = new_dp0
        dp1 = new_dp1
        
    print((dp0 + dp1) % MOD)

solve()