def solve():
    n = int(input())
    s = [input() for _ in range(n)]

    def is_rbs(seq):
        balance = 0
        for char in seq:
            if char == '(':
                balance += 1
            else:
                balance -= 1
            if balance < 0:
                return False
        return balance == 0

    def count_rbs_prefixes(combined_string):
        count = 0
        for i in range(1, len(combined_string) + 1):
            if is_rbs(combined_string[:i]):
                count += 1
        return count

    import itertools
    
    max_rbs_prefixes = 0
    for permutation in itertools.permutations(s):
        combined_string = "".join(permutation)
        max_rbs_prefixes = max(max_rbs_prefixes, count_rbs_prefixes(combined_string))

    print(max_rbs_prefixes)

solve()