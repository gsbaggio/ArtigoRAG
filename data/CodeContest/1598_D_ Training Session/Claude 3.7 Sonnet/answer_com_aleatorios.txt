def solve():
    t = int(input())
    
    for _ in range(t):
        n = int(input())
        problems = []
        
        for _ in range(n):
            a, b = map(int, input().split())
            problems.append((a, b))
        
        # Count valid selections directly
        valid_count = 0
        
        # Try all possible combinations of 3 problems
        for i in range(n):
            for j in range(i+1, n):
                for k in range(j+1, n):
                    topic1, diff1 = problems[i]
                    topic2, diff2 = problems[j]
                    topic3, diff3 = problems[k]
                    
                    # A selection is valid if either:
                    # - All topics are different, OR
                    # - All difficulties are different
                    topics_all_different = (topic1 != topic2 and topic1 != topic3 and topic2 != topic3)
                    diffs_all_different = (diff1 != diff2 and diff1 != diff3 and diff2 != diff3)
                    
                    if topics_all_different or diffs_all_different:
                        valid_count += 1
        
        print(valid_count)

solve()