def solve():
    t = int(input())
    
    for _ in range(t):
        n = int(input())
        problems = []
        
        for i in range(n):
            topic, difficulty = map(int, input().split())
            problems.append((topic, difficulty))
        
        # Count valid selections directly
        valid_count = 0
        
        for i in range(n):
            for j in range(i+1, n):
                for k in range(j+1, n):
                    # Check if all topics are different
                    topics_different = (problems[i][0] != problems[j][0] and
                                      problems[i][0] != problems[k][0] and
                                      problems[j][0] != problems[k][0])
                    
                    # Check if all difficulties are different
                    diffs_different = (problems[i][1] != problems[j][1] and
                                     problems[i][1] != problems[k][1] and
                                     problems[j][1] != problems[k][1])
                    
                    # If either condition is met, it's a valid selection
                    if topics_different or diffs_different:
                        valid_count += 1
        
        print(valid_count)

if __name__ == "__main__":
    solve()