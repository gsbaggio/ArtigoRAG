MOD = 10**9 + 7

def count_segments(n, m, k, a):
    prefix_sum = [0] * (n * m + 1)
    for i in range(1, n * m + 1):
        prefix_sum[i] = prefix_sum[i - 1] + a[(i - 1) % n]

    ans = 0
    cnt = [0] * k
    cnt[0] = 1
    
    for i in range(1, n * m + 1):
        remainder = prefix_sum[i] % k
        ans += cnt[remainder]
        cnt[remainder] += 1
        
        if i >= n:
            cnt[prefix_sum[i - n] % k] -= 1

    return ans % MOD

n, m, k = map(int, input().split())
a = list(map(int, input().split()))

result = count_segments(n, m, k, a)
print(result)