def can_split_subarrays(t, test_cases):
    def check_subarray(arr):
        n = len(arr)
        peaks = [i for i in range(1, n - 1) if arr[i - 1] < arr[i] > arr[i + 1]]
        if not peaks:
            return True
        if len(peaks) % 2 == 1:
            return False
        return peaks[-1] - peaks[0] < n // 2

    results = []
    for _ in range(t):
        n, a = test_cases[_]
        if check_subarray(a):
            results.append("YES")
        else:
            results.append("NO")
    return results

# Input parsing
t = int(input())
test_cases = []
for _ in range(t):
    n = int(input())
    a = list(map(int, input().split()))
    test_cases.append((n, a))

# Get the results
results = can_split_subarrays(t, test_cases)

# Output the results
for result in results:
    print(result)