def solve():
    n = int(input())
    h = list(map(int, input().split()))

    def check(x):
        a = h[:]
        extra = [0] * n
        for i in range(n - 1, 1, -1):
            if a[i] < x:
                return False
            d = min(h[i], a[i] - x) // 3
            a[i - 1] += d
            a[i - 2] += 2 * d
        return a[0] >= x and a[1] >= x

    left, right = 0, max(h) + 1
    while left < right - 1:
        mid = (left + right) // 2
        if check(mid):
            left = mid
        else:
            right = mid
    print(left)

t = int(input())
for _ in range(t):
    solve()